import{u as f,j as N,l as v,z as y,n as m,B as b,q as s,C as k}from"./vendor-2def24a5.js";import{C,a as h,s as L,L as $,t as x}from"./index-3eb36dc8.js";import{T as I}from"./index-531d92f1.js";const S="/assets/copy-babdfc3f.svg";function T({token:a}){return s.jsxs("div",{className:"list-item",children:[s.jsxs("div",{className:"token",children:[s.jsx("img",{className:"logo",src:a.logoURI}),s.jsx("span",{children:a.symbol})]}),s.jsx("span",{className:"balance",children:x(a.balance,4)})]})}function O(){var r,d;const a=f(),{t:i}=N(),{address:e}=v(),o=y({address:e,watch:!0}),l=sessionStorage.getItem("tokenList"),[j,p]=m.useState(l?JSON.parse(l):[]);m.useEffect(()=>{e&&a in C&&(async()=>{const t=await fetch(`${h}/tokens/${a}.json`).then(n=>n.json()),c=[];for(let n=0;n<t.length;n++){const{formatted:u}=await b({address:e,token:t[n].address});c.push({...t[n],balance:u})}p(c),sessionStorage.setItem("tokenList",L(c))})()},[e,a]);const g=()=>{k(e),I(i("tips.copied"),"5vh")};return s.jsxs("div",{className:"my",children:[s.jsxs("div",{className:"header",children:[s.jsx("img",{src:$}),s.jsxs("div",{className:"account",onClick:g,children:[s.jsx("span",{children:e&&`${e.slice(0,7)}...${e.slice(-7)}`}),s.jsx("img",{src:S})]})]}),s.jsxs("div",{className:"assets",children:[s.jsx("div",{className:"title",children:s.jsx("span",{children:i("assets")})}),s.jsxs("div",{className:"list",children:[s.jsxs("div",{className:"list-item",children:[s.jsxs("div",{className:"token",children:[s.jsx("img",{className:"logo",src:`${h}/logo/${a}/maincoin.svg`}),s.jsx("span",{children:(r=o.data)==null?void 0:r.symbol})]}),s.jsx("span",{className:"balance",children:x(((d=o.data)==null?void 0:d.formatted)??0,4)})]}),j.map(t=>s.jsx(T,{token:t},t.address))]})]})]})}export{O as default};
